library("ape")
library("phytools")
library("argparse")


# Parse inputs
parser <-  ArgumentParser(description='Runs Holoflow.')
parser$add_argument('--tips', dest='tips', help='tips generated by .py', required=TRUE)
parser$add_argument('-in_tree', dest='in_tree', help='input gtdbtk tree', required=TRUE)
parser$add_argument('-out_tree', dest='out_tree', help='output subtree', required=TRUE)
args <- parser$parse_args()

# Define variables
tips <- as.vector(strsplit(args$tips, ",")[[1]])
tips

in_tree <- args$in_tree
out_tree <- args$out_tree


# Read original GTDB-tk tree
in_data_tree <- read.tree(in_tree)

# Subtract tips and save new Newick subtree
out_data_tree <- keep.tip(in_data_tree,tips)

write.tree(out_data_tree,file=out_tree)
